I"ô<h1 id="overview-of-payment-changes">Overview of Payment Changes</h1>

<p>In my initial cleaning, I removed the <code class="language-plaintext highlighter-rouge">payment_sequential</code> column and summed all <code class="language-plaintext highlighter-rouge">payment_value</code> entries into <code class="language-plaintext highlighter-rouge">total_payment_value</code>. This reduced duplicates in the <code class="language-plaintext highlighter-rouge">Payments</code> table and resulted in the creation of the <code class="language-plaintext highlighter-rouge">Payments_Cleaned</code> table.</p>

<p>Upon further analysis, I identified additional issues:</p>
<ul>
  <li><strong>Duplicates</strong>: The <code class="language-plaintext highlighter-rouge">payment_type</code> and <code class="language-plaintext highlighter-rouge">payment_installments</code> columns added <strong>1,123</strong> and <strong>866</strong> duplicate entries respectively.</li>
  <li><strong>Missing <code class="language-plaintext highlighter-rouge">order_id</code></strong>: One <code class="language-plaintext highlighter-rouge">order_id</code> present in <code class="language-plaintext highlighter-rouge">Orders_Final</code> and <code class="language-plaintext highlighter-rouge">Order_Items_Final</code> was absent from <code class="language-plaintext highlighter-rouge">Payments_Final</code>.</li>
</ul>

<p>To resolve these, I:</p>
<ol>
  <li>Removed <code class="language-plaintext highlighter-rouge">payment_type</code> and <code class="language-plaintext highlighter-rouge">payment_installments</code>, further reducing duplicates.</li>
  <li>Applied filter logic to remove invalid <code class="language-plaintext highlighter-rouge">order_id</code>s identified in <code class="language-plaintext highlighter-rouge">Recalculated_Missing_Orders</code> and <code class="language-plaintext highlighter-rouge">Recalculated_Discrepant_Orders</code>.</li>
  <li>Reinserted the missing <code class="language-plaintext highlighter-rouge">order_id</code>, bringing <code class="language-plaintext highlighter-rouge">Payments_Final</code> to the correct total of <strong>92,843 entries</strong>, fully aligning with <code class="language-plaintext highlighter-rouge">Orders_Final</code>.</li>
</ol>

<p>The iterative cleaning process ensured <code class="language-plaintext highlighter-rouge">Payments_Final</code> is consistent with <code class="language-plaintext highlighter-rouge">Orders_Final</code> and free of duplicate or invalid entries.</p>

<hr />

<h3 id="assumptions-for-inserting-missing-order_id">Assumptions for Inserting Missing <code class="language-plaintext highlighter-rouge">order_id</code></h3>

<ol>
  <li><strong>All <code class="language-plaintext highlighter-rouge">order_id</code>s Should Have Payments</strong>
    <ul>
      <li>I assumed every <code class="language-plaintext highlighter-rouge">order_id</code> in <code class="language-plaintext highlighter-rouge">Order_Items_Final</code> should have a matching entry in <code class="language-plaintext highlighter-rouge">Payments_Final</code>, as payments logically follow valid orders.</li>
    </ul>
  </li>
  <li><strong>Missing Data Over Invalid Data</strong>
    <ul>
      <li>The absence of this <code class="language-plaintext highlighter-rouge">order_id</code> in <code class="language-plaintext highlighter-rouge">Payments_Final</code> was treated as missing data, not an invalid or canceled order, because it appeared in both <code class="language-plaintext highlighter-rouge">Orders_Final</code> (with a <code class="language-plaintext highlighter-rouge">delivered</code> status) and <code class="language-plaintext highlighter-rouge">Order_Items_Final</code>.</li>
    </ul>
  </li>
  <li><strong>Validated by Calculation</strong>
    <ul>
      <li>I calculated the expected payment value (<code class="language-plaintext highlighter-rouge">price</code> + <code class="language-plaintext highlighter-rouge">freight_value</code>) for the missing <code class="language-plaintext highlighter-rouge">order_id</code>, reinforcing its validity.</li>
    </ul>
  </li>
  <li><strong>Isolated Anomaly</strong>
    <ul>
      <li>I treated this as an isolated issue requiring individual correction, rather than a systemic problem with missing or invalid <code class="language-plaintext highlighter-rouge">order_id</code>s.</li>
    </ul>
  </li>
</ol>

<hr />

<p><a href="./steps.md">Click here</a> to read the detailed steps on the creation of <code class="language-plaintext highlighter-rouge">Payments_Final</code>.</p>

:ET